# from logic import get_notices
# from db import save_notices_to_supabase

# if __name__ == "__main__":
#     results = get_notices()
#     out = save_notices_to_supabase(results)
#     print(out)

import os
from supabase import create_client, Client
from dotenv import load_dotenv

load_dotenv()

url = os.getenv("SUPABASE_URL")
key = os.getenv("SUPABASE_SERVICE_ROLE_KEY")

supabase: Client = create_client(url, key)

data = {
    "title": "Notice of Emergency Power Interruption DAS \u2013 September 2 & 4, 2025",
    "url": "https://example.com",
    "created_at": "2023-10-01T12:00:00Z",
    "data": [{"title":"Notice of Scheduled Power Interruption DAS – September 3, 2025","url":"https://zaneco.ph/2025/09/01/notice-of-scheduled-power-interruption-das-september-3-2025/","processed_images":[{"image_url":"https://zaneco.ph/wp-content/uploads/2025/09/Scheduled-Power-Interruption-September-3-2025-1024x724.png","ocr_text":"ZANECO ADVISORY (DIPOLOG AREA SERVICES) VTCFQZ CLL F TOYZR ]^ ZRRU_KON September 3, 2025 (Wednesday) | 9,COAM - 3;OPM (6 Hours)]  JOSE DALMAN: Clark 7, Baybay Uprating of secondary Iine 3 spans, from bare wire #2 to insulated conductor 1/0. Wm mis crre {akt MceIun Ricjubens 29the rettantkn 0lportt  nremmedittety Jhu thl comortnon rtmosttbetrb # Jbon h0n tmt  Dll Lg# Zancco. Inc zaneco ph M+x;; Aaftn \"Tx7 ~% ALaeannt Pet (Jmi zanro_otticual 7aRICOCh4 144 37A MaIt 04iv Lt Sn Tion IJu ill A","structured":[{"dates":["September 3, 2025"],"times":["9:00AM - 3:00PM"],"duration_hours":6,"locations":[{"municipality":"JOSE DALMAN","barangays":[]}],"reason":"Uprating of secondary line 3 spans, from bare wire #2 to insulated conductor 1/0."}]}]},{"title":"Notice of Scheduled Power Interruption PAS – September 6, 2025","url":"https://zaneco.ph/2025/09/01/notice-of-scheduled-power-interruption-pas-september-6-2025/","processed_images":[{"image_url":"https://zaneco.ph/wp-content/uploads/2025/09/Scheduled-Power-Interruption-September-6-2025-1024x724.png","ocr_text":"ZANECO ADVISORY (PIKAN AREA SERVICES) IKCz Gf S}: H2 RT= [N rirU> TKH  September 6, 2025 (Saturday) | | & 30AM* 5,OPM (8.5 Hours)] POLANCO: Brgys: Labrador; Sllawe; Lapayanbaja, Sianib, Lebangon, and Betlehem PINAN: Purok 4, Calican Looping of conductors on BLEP distribution Iine leading to Brgy; Lapayanbaja: Clearing of vegetation. Wu Mic plerte tjle AIceInr} Riecjubons 1I tht (eaonton ofporttt #Ili Immedintety Jfret the compknon Ot ntcatselt toltrtaa tuabon phm tmt Dll Lg# Zancco. Inc zaneco ph \"+x Aaftn \"Tx7 ~% ALaeannt Pet Rlene zankrolatdaq 7aRICOCh4 144 07A MaIt 04iv Tion IJu","structured":[{"dates":["September 6, 2025"],"times":["8:30AM - 5:00PM"],"duration_hours":8.5,"locations":[{"municipality":"POLANCO","barangays":["Labrador","Silawe","Lapayanbaja","Sianib","New Lebangon","Bethlehem"]},{"municipality":"PIÑAN","barangays":["Calican"]}],"reason":"Looping of conductors on BLEP distribution line leading to Brgy. Lapayanbaja; Clearing of vegetation."}]}]},{"title":"Notice of Emergency Power Interruption DAS – September 2 & 4, 2025","url":"https://zaneco.ph/2025/08/29/notice-of-emergency-power-interruption-das-september-2-4-2025/","processed_images":[{"image_url":"https://zaneco.ph/wp-content/uploads/2025/08/Scheduled-Power-Interruption-September-2-2025-1024x724.png","ocr_text":"ZANECO ADVISORY (DIPOLOG AREA SERVICES) VtCQZ CXL F TwZR ]^ Z33UFTON September 2 2025 (Tuesday)| | 8;30AM- A;tOPM (7,5 hours) DAPITAN: Road 21 and Sunset Blvd , Dawo Clearing of hazardous vegetation: wm crue takt Mccun arciubens 2Ithe rettortlon 01 pentt ' nremmedittety Jhu thl comortnon rtmosttbetrb # Jbon h0n tmt  Dll Lg# Zancco. Inc zaneco ph M+x;; Gatn \"Tx7 ~% Aatt 1 Pet Rlene zanro_oticual 7aRICOCh4 144 37A MaIt 04iv Lt LaVI Sn Tion IJu mir ill A","structured":[{"dates":["September 02, 2025"],"times":["8:30AM - 4:00PM"],"duration_hours":7.5,"locations":[{"municipality":"CITY OF DAPITAN","barangays":["DAWO (POB.)"]}],"reason":"Clearing of hazardous vegetation"}]},{"image_url":"https://zaneco.ph/wp-content/uploads/2025/08/Scheduled-Power-Interruption-September-2-2025-2-1024x724.png","ocr_text":"ZANECO ADVISORY (DIPOLOG AREA SERVICES) VtCFQZ CLL F TvER JAZXRUFION September 2 2025 (Tuesday)| I9;00AM- 4OOPM (7 hours)| 3 SERGIO OSMENA: Brgys. Dampalan, San Isidro, Nebo, Marapong, Tinago, Kauswagan; Nazareth, Bagumbayan, San Antonio, Mahayahay; Mabuhay, Labiray; Prinsesa Lamaya Prinsesa Fresia Clearing of hazardous vegetation: wm crue takt Mccun arciubens 2Ithe rettortlon 01 pentt ' nremmedittety Jhu thl comortnon btaastberrhq #u jbon;on tlmt_ Dll Lg# Zancco. Inc zaneco ph M+x;; Gatn \"Tx7 ~% Aatt 1 Pet Rlene zanro_oticual 7aRICOCh4 144 37A MaIt 04iv Lt LaVI Sn Tion IJu mir ill","structured":[{"dates":["September 2, 2025"],"times":["9:00AM - 4:00PM"],"duration_hours":7,"locations":[{"municipality":"SERGIO OSMEÑA SR.","barangays":["DAMPALAN","SAN ISIDRO","NEBO","MARAPONG","TINAGO","KAUSWAGAN","NAZARETH","BAGUMBAYAN","SAN ANTONIO","MAHAYAHAY","MABUHAY","LABIRAY","PRINCESA LAMAYA","PRINCESA FRESHIA"]}],"reason":"Clearing of hazardous vegetation"}]},{"image_url":"https://zaneco.ph/wp-content/uploads/2025/08/Scheduled-Power-Interruption-September-2-2025-3-1-1024x724.png","ocr_text":"ZANECO ADVISORY (DIPOLOG AREA SERVICES) VtCQZ CL F TwZR ]_ZXRUF'KON September 4, 2025 (Thursday) | | 1AOOPM - 4:OOPM (3 hours)] DIRT DIPOLOG: Highway to Campo Sicayab Clearing of hazardous vegetation: Wmn crue takt Mccun arciubens 2Ithe rettortlon 01 pentt ' nremmedittety Jhu thl comortnon rtmosttbetrb # Jbon h0n tmt  Dll Lg# Zancco. Inc zaneco ph M+x;; Gatn \"Tx7 ~% Aatt 1 Pet Rlene zanro_oticual 7aRICOCh4 144 37A MaIt 04iv Lt LaVI Sn Tion IJu mir ill A","structured":[{"dates":["September 4, 2025"],"times":["1:00PM - 4:00PM"],"duration_hours":3,"locations":[{"municipality":"CITY OF DIPOLOG","barangays":["SICAYAB"]}],"reason":"Clearing of hazardous vegetation"}]}]},{"title":"Notice of Emergency Power Interruption TSD – September 3&4, 2025","url":"https://zaneco.ph/2025/08/28/notice-of-emergency-power-interruption-tsd-september-34-2025/","processed_images":[{"image_url":"https://zaneco.ph/wp-content/uploads/2025/08/TSD-POWER-INTERRUPTION-September-3-2025-1024x724.png","ocr_text":"ZANECO ADVISORY (TECHHICAL SERVICES DEPARTMEHT) VTCFQZ CL Fl TvER JAZRRUFION September 3, 2025 (Wednesday)] | S,OOAM - 5,OOPM (9 Hours) PINAN: Pob: South Pinan POLANCO: Pob.North; Villa Hermosa, Guinles; San Antonio, San Miquel; Isis, Sto Nino and Lingasad: To foctitate the stringing of conduxtor for the Construction ot Double Circuit 69Kv Lne Irom NGCP, Kulamnbujyan Substation to ZANECO Oby; Polanco Substatkon: wm Wil crue tart MtcCIuI Arcjubens 1I the restontan 0lporrtt nremmedittety Jhu thl comortnon ctncnslt Serta #u jbon;kon tlmt_ Ite Lg# Zancco. Inc zaneco ph 38**n Aet 3x; 57T AITI Ltnt Pet Rlene zanro_otticual 7aRICOCh4 144 314 MaIt 04iv Lt MaI Tion ill A Sinlt","structured":[{"dates":["September 3, 2025"],"times":["8:00AM - 5:00PM"],"duration_hours":9,"locations":[{"municipality":"PIÑAN","barangays":["POBLACION SOUTH"]},{"municipality":"POLANCO","barangays":["POBLACION NORTH","VILLAHERMOSA","GUINLES","SAN ANTONIO","SAN MIGUEL","ISIS","SANTO NIÑO","LINGASAD"]}],"reason":"To facilitate the stringing of conductor for the construction of Double Circuit 69Kv Line from NGCP Kulambugan Substation to ZANECO Obay, Polanco Substation."}]},{"image_url":"https://zaneco.ph/wp-content/uploads/2025/08/TSD-POWER-INTERRUPTION-September-4-2025-1024x724.png","ocr_text":"ZANECO ADVISORY (TECHNICAL SERVICES DEPARTMENT) VTCFQZ [C Fl TowZR nZXUF'KON September 4, 2025 (Thursday)| |B;OOAM - 5,OOPM (9 Hours) PINAN: Pob: South Pinan POLANCO: Pob North; Villa Hermosa, Guinles, San Antonio, San Miguel; Isis, Sto Nino and Lingasad: To facilitate the stringing of conduxtor for the Construction ot Double Circuit 69Kv Line Irom NGCP, Kulambuayan Substation to ZANECO Obay; Polanco Substation: wm Wil crue tart MtcCIuI Arcjubens 1I the restontan 0lporrtt nremmedittety Jhu thl comortnon ctncnslt Serta #u jbon;kon tlmt_ Lg# Zancco. Inc zaneco ph 38**n Aet 3x; 57T AITI Ltnt Pet Rlene zanro_otticual 7aRICOCh4 144 314 MaIt 04iv LaVI Tion ill A Sinlt","structured":[{"dates":["September 4, 2025"],"times":["8:00AM - 5:00PM"],"duration_hours":9,"locations":[{"municipality":"PIÑAN","barangays":["Poblacion South"]},{"municipality":"POLANCO","barangays":["Poblacion North","VILLAHERMOSA","GUINLES","SAN ANTONIO","SAN MIGUEL","ISIS","SANTO NIÑO","LINGASAD"]}],"reason":"To facilitate the stringing of conductor for the Construction of Double Circuit 69Kv Line from NGCP, Kulambuayan Substation to ZANECO Obay, Polanco Substation."}]}]}]
}

response = supabase.table("notices").insert(data).execute()
print(response)
